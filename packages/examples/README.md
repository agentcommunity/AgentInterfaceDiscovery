# AID Reference Examples & Hosting

This directory contains canonical examples of `AidGeneratorConfig` files and serves as a standalone Vercel project for hosting their generated `aid.json` manifests.

Each subdirectory (e.g., `/auth0`, `/simple`) contains only a `config.json` file. All other artifacts (`aid.json`, `aid.txt`) are **generated automatically** by the `build:examples` script, which uses the canonical `@agentcommunity/aid-core` library.

## Hosting Architecture

This directory is designed as a single Vercel project that serves multiple `*.aid.agentcommunity.org` subdomains. This is achieved without any application code, relying instead on Vercel's routing rules.

The `vercel.json` file in this directory is **generated automatically** by the `build:examples` script. It contains `rewrite` rules that inspect the `Host` header of an incoming request and serve the appropriate `aid.json` file. **Do not edit this file manually.**

## Generating Artifacts

To regenerate all artifacts and the `vercel.json` routing file, run the following command from the root of the monorepo:

```bash
pnpm --filter @agentcommunity/aid-core build:examples
```

This script will:
1. Find all `config.json` files within `packages/examples`.
2. Assemble the final configuration objects (including aggregating the `landing-mcp` profile).
3. Call the canonical `buildManifest` and `buildTxtRecord` functions from `@agentcommunity/aid-core`.
4. Place the generated files into `packages/examples/public/[example-name]/`.
5. Automatically generate the `vercel.json` file.

## Deployment

This directory is a Vercel-ready project. To deploy:

1.  Create a new Vercel project pointing to the monorepo root.
2.  Set the **Root Directory** in Vercel's settings to `packages/examples`.
3.  Add your custom domains (e.g., `simple.aid.agentcommunity.org`) to the project.
4.  Commit and push changes â€“ Vercel will run `pnpm run build-examples` which regenerates `/public` before upload. 